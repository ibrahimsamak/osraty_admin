{"remainingRequest":"/Users/ibrahimm.samak/Desktop/liken/CPanel-API/admin/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/Users/ibrahimm.samak/Desktop/liken/CPanel-API/admin/node_modules/@nebular/theme/components/chat/chat-form.component.js","dependencies":[{"path":"/Users/ibrahimm.samak/Desktop/liken/CPanel-API/admin/node_modules/@nebular/theme/components/chat/chat-form.component.js","mtime":499162500000},{"path":"/Users/ibrahimm.samak/Desktop/liken/CPanel-API/admin/node_modules/cache-loader/dist/cjs.js","mtime":1541238936889},{"path":"/Users/ibrahimm.samak/Desktop/liken/CPanel-API/admin/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1525376550000}],"contextDependencies":[],"result":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, HostBinding, HostListener, Input, Output, } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n/**\n * Chat form component.\n *\n * Show a message form with a send message button.\n *\n * ```ts\n * <nb-chat-form showButton=\"true\" buttonIcon=\"nb-send\">\n * </nb-chat-form>\n * ```\n *\n * When `[dropFiles]=\"true\"` handles files drag&drop with a file preview.\n *\n * Drag & drop available for files and images:\n * @stacked-example(Drag & Drop Chat, chat/chat-drop.component)\n *\n * New message could be tracked outside by using `(send)` output.\n *\n * ```ts\n * <nb-chat-form (send)=\"onNewMessage($event)\">\n * </nb-chat-form>\n *\n * // ...\n *\n * onNewMessage({ message: string, files: any[] }) {\n *   this.service.sendToServer(message, files);\n * }\n * ```\n *\n * @styles\n *\n * chat-form-bg:\n * chat-form-fg:\n * chat-form-border:\n * chat-form-active-border:\n *\n */\nvar NbChatFormComponent = /*@__PURE__*/ (function () {\n    function NbChatFormComponent(cd, domSanitizer) {\n        this.cd = cd;\n        this.domSanitizer = domSanitizer;\n        this.droppedFiles = [];\n        this.imgDropTypes = ['image/png', 'image/jpeg', 'image/gif'];\n        /**\n           * Predefined message text\n           * @type {string}\n           */\n        this.message = '';\n        /**\n           * Send button title\n           * @type {string}\n           */\n        this.buttonTitle = '';\n        /**\n           * Send button icon, shown if `buttonTitle` is empty\n           * @type {string}\n           */\n        this.buttonIcon = 'nb-paper-plane';\n        /**\n           * Show send button\n           * @type {boolean}\n           */\n        this.showButton = true;\n        /**\n           * Show send button\n           * @type {boolean}\n           */\n        this.dropFiles = false;\n        /**\n           *\n           * @type {EventEmitter<{ message: string, files: File[] }>}\n           */\n        this.send = new EventEmitter();\n        this.fileOver = false;\n    }\n    NbChatFormComponent.prototype.onDrop = function (event) {\n        var _this = this;\n        if (this.dropFiles) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fileOver = false;\n            if (event.dataTransfer && event.dataTransfer.files) {\n                var _loop_1 = function (file) {\n                    var res = file;\n                    if (this_1.imgDropTypes.includes(file.type)) {\n                        var fr = new FileReader();\n                        fr.onload = function (e) {\n                            res.src = e.target.result;\n                            res.urlStyle = _this.domSanitizer.bypassSecurityTrustStyle(\"url(\" + res.src + \")\");\n                            _this.cd.detectChanges();\n                        };\n                        fr.readAsDataURL(file);\n                    }\n                    this_1.droppedFiles.push(res);\n                };\n                var this_1 = this;\n                // tslint:disable-next-line\n                for (var _i = 0, _a = event.dataTransfer.files; _i < _a.length; _i++) {\n                    var file = _a[_i];\n                    _loop_1(file);\n                }\n            }\n        }\n    };\n    NbChatFormComponent.prototype.removeFile = function (file) {\n        var index = this.droppedFiles.indexOf(file);\n        if (index >= 0) {\n            this.droppedFiles.splice(index, 1);\n        }\n    };\n    NbChatFormComponent.prototype.onDragOver = function () {\n        if (this.dropFiles) {\n            this.fileOver = true;\n        }\n    };\n    NbChatFormComponent.prototype.onDragLeave = function () {\n        if (this.dropFiles) {\n            this.fileOver = false;\n        }\n    };\n    NbChatFormComponent.prototype.sendMessage = function () {\n        if (this.droppedFiles.length || String(this.message).trim().length) {\n            this.send.emit({ message: this.message, files: this.droppedFiles });\n            this.message = '';\n            this.droppedFiles = [];\n        }\n    };\n    return NbChatFormComponent;\n}());\nexport { NbChatFormComponent };\n//# sourceMappingURL=chat-form.component.js.map\n",null]}